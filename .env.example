# Thai Scam Detection API - Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=dev  # dev or prod

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_TITLE=Thai Scam Detection API
API_VERSION=0.1.0
API_HOST=0.0.0.0
API_PORT=8000

# =============================================================================
# DATABASE
# =============================================================================
# For development (SQLite)
DATABASE_URL=sqlite:///./thai_scam_detector.db

# For production (PostgreSQL) - uncomment and update:
# DATABASE_URL=postgresql://username:password@localhost:5432/thaiscam

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT Configuration (NEW!)
# Generate secure keys: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-random-secret-key-change-in-production-use-above-command
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Admin Authentication
ADMIN_USERNAME=admin

# Admin password hash (generate with: python scripts/hash_password.py)
# Leave empty to use ADMIN_TOKEN as password (backward compatibility)
ADMIN_PASSWORD_HASH=

# DEPRECATED: Static admin token (for backward compatibility only)
# Migrate to JWT authentication via /admin/auth/login
ADMIN_TOKEN=change-this-token-in-production

# Admin IP Allowlist (IMPORTANT FOR PRODUCTION!)
# Comma-separated list of allowed IP addresses
# Leave empty to allow all IPs (dev mode only!)
# Example: ADMIN_ALLOWED_IPS=203.0.113.1,203.0.113.2,192.168.1.100
ADMIN_ALLOWED_IPS=

# For production, set your server IPs:
# ADMIN_ALLOWED_IPS=your.server.ip,backup.server.ip

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS=60  # requests per window
RATE_LIMIT_WINDOW=60    # window in seconds (60 = 1 minute)

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================
MODEL_VERSION=mock-v1.0
SCAM_CLASSIFIER_TYPE=mock

# Detection Thresholds
PUBLIC_THRESHOLD=0.5   # Conservative - catch more potential scams
PARTNER_THRESHOLD=0.7  # Strict - reduce false positives

# =============================================================================
# LLM CONFIGURATION
# =============================================================================
LLM_VERSION=mock-v1.0
LLM_PROVIDER=mock

# For OpenAI (if using real LLM)
# OPENAI_API_KEY=sk-...

# For Google Gemini (Recommended)
GOOGLE_API_KEY=


# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# ✅ ENVIRONMENT=prod
# ✅ JWT_SECRET_KEY is randomly generated
# ✅ ADMIN_PASSWORD_HASH is set (not using ADMIN_TOKEN)
# ✅ ADMIN_ALLOWED_IPS is configured with your server IPs
# ✅ DATABASE_URL points to PostgreSQL
# ✅ All secrets are unique and secure
# ✅ LOG_LEVEL is INFO or WARNING
